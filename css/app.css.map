{"version":3,"sources":["webpack:///src/global.css","webpack:///src/src/AlternativeLayout.vue","webpack:///src/MainLayout/MainLayout.css","webpack:///src/PortfolioPage/src/PortfolioPage/Loader.vue","webpack:///src/PortfolioPage/PortfolioPage.css","webpack:///src/ThreeJsPage/src/ThreeJsPage/ThreeJsPage.vue","webpack:///src/TodosPage/src/TodosPage/EditableTodosList.vue","webpack:///src/TodosPage/src/TodosPage/TodosPage.vue"],"names":[],"mappings":"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","file":"app.css","sourcesContent":["html,\nbody {\n    height: 100%\n}\n\nbody {\n    font-family: Helvetica, Arial, sans-serif;\n    margin: 0;\n    padding: 0;\n}\n\nbody,\ntextarea {\n    font-family: Roboto, Helvetica, sans-serif;;\n}\n\nli {\n    list-style: none;\n}\n\nli, ul, h1, h2, h3, h4, h5 {\n    padding: 0;\n    margin: 0;\n}\n\ninput[type=text],\ntextarea {\n    border: 1px solid #ececec;\n    border-radius: 2px;\n}\n\nbutton {\n    align-items: center;\n    background-color: rgba(0, 0, 0, 0);\n    border: 1.2px solid rgb(102, 102, 102);\n    border-radius: 4px;\n    font-weight: 600;\n    padding: 4px 4px;\n    margin-right: 8px;\n    letter-spacing: 1.05px;\n    color: rgb(102, 102, 102);\n    text-transform: uppercase;\n\n    &:hover {\n        cursor: pointer;\n    }\n}\n","<template>\n    <div style=\"height: 100%\">\n        <div class=\"alternative-layout__main-menu\">\n            <div style=\"display: flex\">\n                <!--https://www.myfonts.com/fonts/sideshow/mister-brown/regular-->\n                <img src=\"./projects-in-dribble-font.png\" style=\"height: 24px;margin-right: 20px;\">\n            </div>\n\n            <MainMenu class=\"menu\" />\n\n            <div>\n                <a class=\"git-link\" href=\"https://github.com/sonnenhaft\">\n                    <img src=\"./PortfolioPage/GitHub-logo-120px.png\" title=\"GitHub Account\" alt=\"GitHub\">\n                </a>\n            </div>\n        </div>\n\n        <slot />\n    </div>\n</template>\n\n<script>\n  import MainMenu from './MainMenu';\n\n  export default { components: { MainMenu } }\n</script>\n\n<style src=\"./global.css\"></style>\n<style>\n    .alternative-layout__main-menu {\n        background: #333333;\n        padding: 14px 16px;\n        align-content: space-between;\n        text-align: center;\n        justify-content: space-between;\n        display: flex;\n    }\n\n    .alternative-layout__main-menu .menu > a {\n        font-weight: 600;\n        padding: 6px 16px;\n        display: inline-block;\n        color: #8e9493;\n        font-size: 13px;\n        text-decoration: none;\n        border-radius: 7px;\n        margin: 0 2px;\n    }\n\n    .git-link img {\n        filter: invert(100%);\n        width: 24px;\n        height: 24px;\n    }\n\n    .git-link:hover img {\n        filter: invert(80%);\n    }\n\n    .alternative-layout__main-menu .menu > a:first-of-type,\n    .alternative-layout__main-menu .menu > a:hover {\n        background: black;\n        font-weight: bold;\n        color: white;\n    }\n</style>\n",".main-layout {\n    background: #222222;\n    color: #525252;\n    display: flex;\n    height: 100%;\n}\n\nh1 {\n    cursor: pointer;\n    letter-spacing: 4px;\n    font-family: cursive, sans-serif;\n    padding-bottom: 7px;\n    border-bottom: 4px solid #525252;\n    display: inline;\n    text-decoration: none;\n}\n\np {\n    margin-top: 160px;\n    color: #f0f2f1;\n    font-weight: bold;\n    font-size: 20px;\n    margin-bottom: 60px;\n}\n\nnav {\n    margin-bottom: 60px;\n\n    & a {\n        text-decoration: none;\n        margin-right: 20px;\n\n        &:hover {\n            text-decoration: underline;\n        }\n    }\n}\n\na {\n    text-decoration: underline;\n    color: inherit;\n    font-weight: bold;\n    font-size: 12px;\n}\n\nfooter {\n    font-size: 12px;\n    line-height: 20px;\n}\n\n.floating-nav {\n    background: #e7e73b;\n    padding: 0 10px;\n    border-radius: 4px 0 0 4px;\n    box-shadow: 15px 0 23px -5px rgba(231, 231, 59, 0.75);\n    font-size: 36px;\n    font-weight: bold;\n    position: absolute;\n    right: 0;\n    margin: 0;\n    color: #3f3b00;\n    text-transform: uppercase;\n    user-select: none;\n\n    &:hover {\n        cursor: pointer;\n        opacity: 0.9;\n    }\n}\n\n.fullscreen-image {\n    height: 100%;\n    width: 40%;\n    overflow: hidden;\n    position: relative;\n    background-color: #8f8f8f;\n    color: transparent;\n\n    & img {\n        min-height: 100%;\n        min-width: 100%;\n        object-position: top;\n        position: absolute;\n        right: 0;\n        bottom: 0;\n        opacity: 0;\n        transition: opacity 0.5s ease-in-out;\n\n        &.imageLoaded {\n            opacity: 1;\n        }\n    }\n}\n\n.content {\n    width: 60%;\n    box-shadow: 14px 0 33px 0 rgba(0, 0, 0, 0.75);\n    height: 100%;\n    z-index: 1;\n    padding-left: 60px;\n    display: flex;\n    align-items: center;\n    position: relative;\n}\n\n.inner-content {\n    height: 400px;\n    flex-direction: column;\n    align-content: center;\n    justify-content: space-around;\n}\n\n.main-layout__main-menu {\n    margin-bottom: 60px;\n\n    & a {\n        text-decoration: none;\n        margin-right: 20px;\n        color: inherit;\n        font-weight: bold;\n        font-size: 12px;\n\n        &:hover {\n            text-decoration: underline;\n        }\n    }\n}\n","<template>\n    <div class=\"loader\">\n        <ul>\n            <li></li>\n            <li></li>\n            <li></li>\n            <li></li>\n            <li></li>\n        </ul>\n    </div>\n</template>\n\n<script>\n  export default {\n    name: 'loader'\n  }\n</script>\n\n<style scoped>\n    .loader {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        height: 100vh;\n        overflow: hidden;\n\n        & ul {\n            display: flex;\n\n            & li {\n                width: 20px;\n                height: 20px;\n                margin: 10px;\n                list-style-type: none;\n                transition: 0.5s all ease;\n            }\n        }\n    }\n\n    ul li:nth-child(1) {\n        animation: right-1 1s infinite alternate;\n        background-color: #DDD8B8;\n        animation-delay: 100ms;\n    }\n\n    ul li:nth-child(2) {\n        animation: right-2 1s infinite alternate;\n        background-color: #B3CBB9;\n        animation-delay: 200ms;\n    }\n\n    ul li:nth-child(3) {\n        animation: right-3 1s infinite alternate;\n        background-color: #84A9C0;\n        animation-delay: 300ms;\n    }\n\n    ul li:nth-child(4) {\n        animation: right-4 1s infinite alternate;\n        background-color: #6A66A3;\n        animation-delay: 400ms;\n    }\n\n    ul li:nth-child(5) {\n        animation: right-5 1s infinite alternate;\n        background-color: #58548E;\n        animation-delay: 500ms;\n    }\n\n    @keyframes right-1 {\n        0% {\n            transform: translateY(-60px);\n        }\n        100% {\n            transform: translateY(60px);\n        }\n    }\n\n    @keyframes right-2 {\n        0% {\n            transform: translateY(-70px);\n        }\n        100% {\n            transform: translateY(70px);\n        }\n    }\n\n    @keyframes right-3 {\n        0% {\n            transform: translateY(-80px);\n        }\n        100% {\n            transform: translateY(80px);\n        }\n    }\n\n    @keyframes right-4 {\n        0% {\n            transform: translateY(-90px);\n        }\n        100% {\n            transform: translateY(90px);\n        }\n    }\n\n\n    @keyframes right-5 {\n        0% {\n            transform: translateY(-100px);\n        }\n        100% {\n            transform: translateY(100px);\n        }\n    }\n</style>\n",".portfolio-page {\n    background: rgb(241, 241, 241);\n    padding: 16px;\n    height: calc(100vh - 88px);\n    overflow-y: scroll;\n\n    & .portfolio-page__content {\n        max-width: 1024px;\n        margin: auto;\n    }\n}\n\n.portfolio-page__menu {\n    display: flex;\n    padding: 9px;\n    border-bottom: 1px solid #e1e1e1;\n    margin-bottom: 4px;\n\n    & a {\n        font-weight: 600;\n        font-size: 14px;\n        font-family: sans-serif;\n        letter-spacing: 0.5px;\n        color: #afa8a4;\n        margin-right: 12px;\n        text-decoration: none;\n        cursor: pointer;\n\n        &.active,\n        &:hover {\n            color: #51555c;\n        }\n    }\n}\n\n.portfolio-page__projects {\n    margin: 0 -8px;\n    overflow: hidden;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: flex-start;\n}\n\n.portfolio-page__project {\n    display: inline-block;\n    margin: 8px;\n    background: white;\n    position: relative;\n    padding: 12px;\n    padding-bottom: 6px;\n}\n\n.portfolio-page__iframe-wrapper {\n    width: 300px;\n    height: 300px;\n    background: #f3f3f3;\n}\n\n.portfolio-page__iframe-loader {\n    position: absolute;\n    top: -178px;\n    left: 320px;\n}\n\n.portfolio-page__iframe-resizer {\n    transform: scale(0.333);\n    transform-origin: top left;\n    width: 900px;\n    height: 900px;\n}\n\n.portfolio-page__project-buttons {\n    flex-direction: row;\n    margin-top: 8px;\n    display: flex;\n    justify-content: space-between;\n    padding-left: 2px;\n\n    & > a {\n        color: #5f90b7;\n        font-weight: bold;\n        font-size: 14px;\n        text-decoration: none;\n\n        &:hover {\n            text-decoration: underline;\n        }\n    }\n}\n","<template>\n    <canvas ref=\"canvas\"></canvas>\n</template>\n\n<script>\n  import RenderThreeTubeAsync from './RenderThreeTubeAsync';\n\n  export default {\n    async mounted() {\n      const THREE = await import(/* webpackChunkName: \"async-vendors/THREE\" */  'three');\n      const dat = await import(/* webpackChunkName: \"async-vendors/dat.gui\" */  'dat.gui');\n\n      this.destroy = RenderThreeTubeAsync(this.$refs.canvas, THREE, dat);\n    },\n\n    destroyed() {\n      this.destroy();\n    },\n  }\n</script>\n\n<style scoped>\n    canvas {\n        background: black;\n        width: 100%;\n        height: 100%;\n    }\n</style>\n","<template>\n    <div>\n        <div style=\"position: absolute; transform: translate(400px, -30px)\">\n            <p-check color=\"danger-o\" tabindex=\"-1\"\n                     v-model=\"editableRating\">\n                with rating\n            </p-check>\n        </div>\n\n        <ul>\n            <li v-for=\"(todoItem, index) in unCheckedItems\" :key=\"todoItem.id + ' ' + index\">\n                <p-check color=\"danger-o\" tabindex=\"-1\"\n                         v-model=\"todoItem.isChecked\"\n                         @change=\"update()\">\n                    <i slot=\"extra\" class=\"icon mdi mdi-close\"></i>\n                </p-check>\n\n                <input type=\"text\" v-model=\"todoItem.text\" tabindex=\"0\"\n                       placeholder=\"empty\"\n                       @paste=\"onPaste(todoItem, $event)\"\n                       @keyup.enter=\"addEmptyAfterThis(todoItem, $event)\"\n                       @keyup.delete=\"deleteEmpty(todoItem, $event)\"\n                       @keydown.up=\"focusUp(todoItem, $event)\"\n                       @keydown.down=\"focusDown(todoItem, $event)\"\n                       @keyup=\"update()\">\n\n                <star-rating v-model=\"todoItem.rating\"\n                             v-if=\"editableRating\"\n                             @rating-selected=\"update()\"\n                             :star-size=\"10\" :show-rating=\"false\"></star-rating>\n                <span v-if=\"!editableRating\" title=\"rating\">\n                    {{ todoItem.rating }}\n                </span>\n\n                <div>&nbsp;</div>\n                <font-awesome-icon icon=\"times-circle\" @click=\"remove(todoItem)\" style=\"cursor: pointer\" />\n                <div>&nbsp;</div>\n                <font-awesome-icon icon=\"arrow-circle-up\" @click=\"moveTop(todoItem)\" style=\"cursor: pointer\"\n                                   :style=\"{ cursor: 'pointer', visibility: index ? 'visible' : 'hidden' }\" />\n                <div>&nbsp;</div>\n\n                <star-rating v-model=\"todoItem.effort\"\n                             v-if=\"editableRating\"\n                             active-color=\"red\"\n                             @rating-selected=\"update()\"\n                             :star-size=\"10\" :show-rating=\"false\"></star-rating>\n\n                <span v-if=\"!editableRating\" title=\"effort\">\n                    {{ todoItem.effort }}\n                </span>\n            </li>\n            <li>\n                <input type=\"text\" placeholder=\"Type to add new item\"\n                       v-model=\"newItemValue\"\n                       @keyup.enter=\"addEmptyAfterThis()\">\n            </li>\n\n            <h5 v-if=\"checkedItems.length\">\n                <br>\n                [{{ checkedItems.length }} /\n                {{ unCheckedItems.length }}]\n            </h5>\n\n            <li v-for=\"todoItem in checkedItems\" :key=\"todoItem.id\">\n                <p-check class=\"p-default p-thick p-pulse\"\n                         v-model=\"todoItem.isChecked\"\n                         @change=\"update()\" />\n\n                <div style=\"text-decoration:  line-through; text-align: left;   width: 250px;\n    overflow: hidden;\">\n                    {{todoItem.text}}\n                </div>\n\n                <input type=\"submit\" value=\"X\" @click=\"remove(todoItem)\">\n            </li>\n        </ul>\n\n        <br>\n\n        <button @click=\"removeEmpty()\" v-if=\"nonEmpty.length !== items.length\">\n            <font-awesome-icon icon=\"trash-alt\" />\n            empty\n        </button>\n\n        <button @click=\"unselectAll()\" v-if=\"checkedItems.length\">\n            unselect all\n        </button>\n    </div>\n</template>\n\n<script>\n  import StarRating from 'vue-star-rating'\n\n  function focus(prev) {\n    if (prev) {\n      prev.children[1].focus();\n    }\n  }\n\n  const n = num => isNaN(num - 0) ? 0 : num - 0;\n\n  const getItems = (text = '') => `${ text }`\n    .split('\\n')\n    .map(t => t.trimLeft())\n    .filter(t => t.length)\n    .map(t => t.startsWith('[') ? t : `[000] ${ t }`)\n    .map((t, id) => ({\n      isChecked: n(t[1]) === 1,\n      rating: n(t[2]),\n      effort: n(t[3]),\n      text: t.substr(6, t.length),\n      id\n    }));\n\n  const getText = items => items\n    .map(({ isChecked, text, rating = 0, effort = 0 }) => (\n      `[${ isChecked ? 1 : 0 }${ rating }${ effort }] ${ text }`\n    )).join('\\n');\n\n  export default {\n    props: ['value'],\n\n    created() {\n      this.presavedText = this.value;\n      this.items = getItems(this.value)\n\n      this.$watch('value', () => {\n        if (this.presavedText !== this.value) {\n          this.presavedText = this.value;\n          this.items = getItems(this.value)\n        }\n      });\n    },\n    data: () => ({ items: [], presavedText: '', newItemValue: '', editableRating: true }),\n    components: {\n      StarRating\n    },\n    computed: {\n      checkedItems() {\n        return this.items.filter(({ isChecked }) => isChecked)\n      },\n      unCheckedItems() {\n        return this.items.filter(({ isChecked }) => !isChecked)\n      },\n      nonEmpty() {\n        return this.items.filter(({ text }) => text.trim())\n      }\n    },\n    methods: {\n      update() {\n        this.presavedText = getText(this.items);\n        this.$emit('input', this.presavedText);\n      },\n      onPaste(item, $event) {\n        const text = $event.clipboardData.getData('Text');\n        if (text.includes('\\n')) {\n          this.items.splice(this.items.indexOf(item) + 1, 0, ...getItems(text));\n\n          this.update();\n          $event.preventDefault();\n        }\n      },\n      removeEmpty() {\n        this.items = this.nonEmpty\n        this.update();\n      },\n      unselectAll() {\n        this.checkedItems.forEach(item => {\n          item.isChecked = false;\n        });\n        this.update();\n      },\n      remove(item) {\n        this.items.splice(this.items.indexOf(item), 1);\n        this.update();\n      },\n      deleteEmpty(item, e) {\n        if (!item.text.length) {\n          focus(e.target.parentElement.previousElementSibling);\n          this.remove(item);\n        }\n      },\n\n      focusUp(item, e) {\n        focus(e.target.parentElement.previousElementSibling);\n      },\n      focusDown(item, e) {\n        focus(e.target.parentElement.nextElementSibling);\n      },\n      moveTop(item) {\n        const idx = this.items.indexOf(item);\n        this.items.splice(idx - 1, 2, item, this.items[idx - 1]);\n        this.update();\n      },\n      addEmptyAfterThis(item, e) {\n        let idx = this.items.indexOf(item) + 1;\n        this.items.splice(idx ? idx : this.items.length,\n          0,\n          { text: this.newItemValue || '' })\n        this.newItemValue = '';\n        if (e) {\n          setTimeout(() => {\n            focus(e.target.parentElement.nextElementSibling);\n          }, 10);\n        }\n\n        this.update();\n      }\n    }\n  }\n</script>\n\n<style>\n    li .pretty {\n        margin: 0;\n        transform: scale(0.85) translate(1px, 7px);\n    }\n</style>\n\n<style scoped>\n    input {\n        cursor: pointer;\n        background: transparent;\n        display: inline-block;\n\n        &[type=text] {\n            width: 250px;\n            border-color: transparent;\n        }\n\n        &[type=checkbox] {\n            vertical-align: middle;\n        }\n    }\n\n    li {\n        height: 20px;\n        overflow: hidden;\n        white-space: nowrap;\n        display: flex;\n        justify-content: space-between;\n        vertical-align: center;\n    }\n\n    h4 textarea {\n        font-size: inherit;\n        font-weight: inherit;\n        width: 100%;\n        resize: none;\n    }\n\n    [type=submit] {\n        border-radius: 10px;\n        border: 1px solid #00000096;\n        width: 16px;\n        height: 16px;\n        font-size: 6px;\n        font-weight: bold;\n\n        &:hover {\n            color: white;\n            background-color: rgba(72, 72, 72, 0.59);\n        }\n    }\n</style>\n","<template>\n    <div class=\"todos-layout\">\n        <div v-if=\"loading\" class=\"loading\">Loading...</div>\n        <br />\n        <pre v-if=\"error\">{{error}}</pre>\n\n        <div v-for=\"(todoList, index) in filteredLists\" :key=\"index\"\n             class=\"todo-item\">\n            <input type=\"text\" placeholder=\"title\"\n                   v-model=\"todoList.name\"\n                   style=\"font-weight: bold;width: 100%;border: none;font-size: 15px;background: none\"\n                   @keyup=\"update(todoList)\" />\n\n            <div style=\"margin: 8px 0\">\n                <div v-if=\"!$route.params.id\">\n                    <p-check tabindex=\"-1\" class=\"p-switch p-fill\"\n                             v-model=\"todoList.hidden\"\n                             @change=\"update(todoList)\">\n                        Collapsed\n                    </p-check>\n\n                    <p-check tabindex=\"-1\" class=\"p-switch p-fill\"\n                             v-model=\"todoList.withTextArea\"\n                             v-if=\"!todoList.hidden\"\n                             @change=\"update(todoList)\">\n                        With Editor\n                    </p-check>\n\n                    <button @click=\"remove(todoList)\" tabindex=\"-1\">\n                        <font-awesome-icon icon=\"trash-alt\" />\n                    </button>\n\n                    <button @click=\"clone(todoList)\" tabindex=\"-1\">\n                        <font-awesome-icon icon=\"clone\" />\n                    </button>\n\n                    <router-link :to=\"'/todos/' + todoList._id.$oid\" tag=\"a\"\n                                 v-if=\"todoList._id && !todoList.hidden\">\n                        <font-awesome-icon icon=\"arrow-right\" />\n                    </router-link>\n\n                    <div style=\"height: 8px\"></div>\n                </div>\n\n                <div v-if=\"$route.params.id\">\n                    <router-link :to=\"'/todos/'\" tag=\"a\" title=\"all\">\n                        <font-awesome-icon icon=\"arrow-left\" />\n                    </router-link>\n\n                    <span>&nbsp;</span>\n\n                    <p-check tabindex=\"-1\" class=\"p-switch p-fill\"\n                             v-model=\"todoList.withTextArea\"\n                             v-if=\"!todoList.hidden\"\n                             @change=\"update(todoList)\">\n                        With Editor\n                    </p-check>\n                </div>\n            </div>\n\n            <div style=\"display: flex\" v-if=\"!todoList.hidden\">\n                <EditableTodosList v-model=\"todoList.text\"\n                                   @input=\"update(todoList)\" />\n\n                <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>\n\n                <textarea\n                        v-if=\"todoList.withTextArea\"\n                        v-model=\"todoList.text\" placeholder=\"As text...\"\n                        @input=\"update(todoList)\" />\n            </div>\n        </div>\n\n        <div v-if=\"!$route.params.id\" class=\"todo-item\">\n            <input type=\"text\" placeholder=\"Create new TODO list\"\n                   v-model=\"newItemValue\"\n                   @keyup.enter=\"createTodoList()\"\n                   style=\"color: transparent\">\n        </div>\n    </div>\n</template>\n\n<script>\n  import debounce from 'lodash/debounce';\n  import EditableTodosList\n    from './EditableTodosList.vue';\n\n  import ReactResource from 'react-resource';\n\n  const TodosResource = new ReactResource(\n    `https://api.mongolab.com/api/1/databases/sonnenhaft2/collections/test-collection2/{:id}?apiKey=PGjxbP3NQzS2xXIe8PgSbJBxVzaPlXGe`,\n    { id: ':id' },\n    {\n      update: {\n        transformRequest: data => {\n          delete data.id;\n          return data;\n        }\n      }\n    });\n\n  function setCache(value) {\n    localStorage.setItem('todoResourceData', JSON.stringify(value))\n  }\n\n  function getCache([]) {\n    const data = localStorage.getItem('todoResourceData')\n    return data && JSON.parse(data)\n  }\n\n  export default {\n    components: {\n      EditableTodosList\n    },\n\n    async created() {\n      this.items = getCache([])\n      try {\n        this.items = await TodosResource.query({})\n        setCache(this.items)\n        this.error = '';\n      } catch (e) {\n        this.error = JSON.stringify(e, null, 4);\n      }\n\n      this.loading = false;\n    },\n\n    data: () => ({\n      loading: true,\n      items: [],\n      error: '',\n      newItemValue: '',\n      newItemItemValue: ''\n    }),\n\n    computed: {\n      filteredLists() {\n        if (this.$route.params.id) {\n          return this.items.filter(item => item._id.$oid === this.$route.params.id);\n        } else {\n          return this.items;\n        }\n      }\n    },\n\n    methods: {\n      async createTodoList(data = { name: this.newItemValue || '', text: '' }) {\n        this.loading = true;\n\n        data.withTextArea = false;\n        data.collapsed = false;\n\n        this.newItemValue = '';\n        this.items.push(data);\n\n        const { _id } = await TodosResource.create(data);\n        data._id = _id;\n\n        setCache(this.items)\n        this.loading = false;\n      },\n\n      clone({ _id, __ob__, ...item }) {\n        this.createTodoList(item);\n      },\n\n      remove(item) {\n        this.items.splice(this.items.indexOf(item), 1);\n\n        setCache(this.items)\n        TodosResource.delete({ id: item._id.$oid });\n      },\n\n      update: debounce(function(item) {\n        setCache(this.items)\n        TodosResource.update({ id: item._id.$oid, ...item });\n      }, 100)\n    }\n  }\n</script>\n\n<style scoped>\n    textarea {\n        min-height: 100%;\n        min-width: 460px;\n        line-height: 20px;\n        padding-top: 0;\n        background: none;\n    }\n\n    .loading {\n        position: absolute;\n    }\n\n    .todos-layout {\n        background-color: #ffffff;\n        color: #232527;\n        height: 100%;\n        padding: 8px;\n    }\n\n    .todo-item {\n        border-radius: 5px;\n        /*background-color: #fdfabd;*/\n        padding: 8px;\n        margin: 8px;\n        display: inline-block;\n        border: 1px solid #ebebeb;\n        vertical-align: top;\n    }\n</style>\n"]}